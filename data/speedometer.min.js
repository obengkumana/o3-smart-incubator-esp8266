function speedometer(a){if(this._speedometerProperty={id:"speedometer-cnt-"+Math.floor(1e5*Math.random())+"1",maxVal:180,divFact:10,dangerLevel:120,initDeg:-45,maxDeg:270,speedNobeH:4,speedoNobeW:95,speedoNobeL:13,edgeRadius:150,indicatorRadius:125,indicatorNumbRadius:90,speedPositionTxtWH:80,nobW:20,nobH:4,numbW:30,numbH:16,midNobW:10,midNobH:3,noOfSmallDiv:2,multiplier:1,gagueLabel:"km/h",initVal:0,dangerColor:"#FF113A",bgColor:"#0F0F0F",speedValBGColor:"#191919",speedValTxtColor:"#fff",speedArrowColor:"#48a3cb",nobNumbColor:"#eee"},"object"==typeof a)for(var b in a)this._speedometerProperty[b]=a[b];this.elm=null,this._noOfDev=this._speedometerProperty.maxVal/this._speedometerProperty.divFact,this._speedPointerArrow=null,this._speedValueInNumeric=null,this._speedNobNumbHolder=[],this._creatHtmlsElecments(),this.setPosition(this._speedometerProperty.initVal)}speedometer.prototype._createElm=function(a){if(!a||(f=g=a)instanceof Element||f instanceof HTMLDocument||"string"==typeof g)return a;var f,g,b=document.createElement(a.elmType);if(a.attrs)for(var c in a.attrs)b.setAttribute(c,a.attrs[c]);if(a.text&&(b.innerText=a.text),a.html&&(b.innerHTML=a.html),a.children)for(var e in a.children){var d=this._createElm(a.children[e]);d&&b.append(d)}return b},speedometer.prototype._addClass=function(a,b){var c=a.getAttribute("class").replace(new RegExp(b,"g"),"")+" "+b;a.setAttribute("class",c)},speedometer.prototype._removeClass=function(a,b){var c=a.getAttribute("class").replace(new RegExp(b,"g"),"");a.setAttribute("class",c)},speedometer.prototype._creatHtmlsElecments=function(){this.elm=this._createElm({elmType:"div",attrs:{id:this._speedometerProperty.id,class:"speedometer"}}),this._setCssProperty(),this._createIndicators()},speedometer.prototype._setCssProperty=function(){var c=2*this._speedometerProperty.edgeRadius,e=this._speedometerProperty.edgeRadius-this._speedometerProperty.speedNobeH/2,b=this._speedometerProperty.initDeg,d=this._speedometerProperty.edgeRadius-this._speedometerProperty.speedPositionTxtWH/2,a="#"+this._speedometerProperty.id,f=[a+".speedometer{","width  :"+c+"px;","height :"+c+"px;","}",a+" .speedNobe{","height            :"+this._speedometerProperty.speedNobeH+"px;","top               :"+e+"px;","transform         :rotate("+b+"deg);","-webkit-transform :rotate("+b+"deg);","-moz-transform    :rotate("+b+"deg);","-o-transform      :rotate("+b+"deg);","}",a+" .speedPosition{","width  :"+this._speedometerProperty.speedPositionTxtWH+"px;","height :"+this._speedometerProperty.speedPositionTxtWH+"px;","top  :"+d+"px;","left :"+d+"px;","}",a+" .speedNobe div{","width  :"+this._speedometerProperty.speedoNobeW+"px;","left :"+this._speedometerProperty.speedoNobeL+"px;","}",a+" .nob{","width  :"+this._speedometerProperty.nobW+"px;","height :"+this._speedometerProperty.nobH+"px;","}",a+" .numb{","width  :"+this._speedometerProperty.numbW+"px;","height :"+this._speedometerProperty.numbH+"px;","}",a+" .midNob{","width  :"+this._speedometerProperty.midNobW+"px;","height :"+this._speedometerProperty.midNobH+"px;","}",a+".speedometer{","background:"+this._speedometerProperty.bgColor+";","}",a+".speedometer .speedPosition{","background:"+this._speedometerProperty.speedValBGColor+";","color:"+this._speedometerProperty.speedValTxtColor+";","box-shadow: 0 0 3px 3px "+this._speedometerProperty.speedValBGColor+";","}",a+".speedometer .speedNobe div{","background:"+this._speedometerProperty.speedArrowColor+";","}",a+".speedometer .nob{","background:"+this._speedometerProperty.nobNumbColor+";","box-shadow: 0 0 2px 1px "+this._speedometerProperty.nobNumbColor+";","}",a+".speedometer .numb{","color:"+this._speedometerProperty.nobNumbColor+";","}",a+".speedometer .nob.danger{","background:"+this._speedometerProperty.dangerColor+";","box-shadow: 0 0 2px 1px "+this._speedometerProperty.dangerColor+";","}",a+".speedometer .numb.danger{","color:"+this._speedometerProperty.dangerColor+";","}",].join(""),g=this._createElm({elmType:"style",attrs:{},html:f});this.elm.append(g)},speedometer.prototype._createIndicators=function(){for(var c,d,e,f,q=this._speedometerProperty.maxDeg/this._noOfDev,g=this.elm,a=0;a<=this._noOfDev;a++){var h,i,b=this._speedometerProperty.initDeg+a*q,k=a*this._speedometerProperty.divFact,l=k>=this._speedometerProperty.dangerLevel?"danger":"",m=this._speedometerProperty.indicatorRadius*Math.cos(.01746*b),n=this._speedometerProperty.indicatorRadius*Math.sin(.01746*b),o=this._speedometerProperty.indicatorNumbRadius*Math.cos(.01746*b),p=this._speedometerProperty.indicatorNumbRadius*Math.sin(.01746*b);e=this._speedometerProperty.edgeRadius-p-this._speedometerProperty.numbW/2,f=this._speedometerProperty.edgeRadius-o-this._speedometerProperty.numbH/2;var j=a%this._speedometerProperty.noOfSmallDiv==0;j?(c=this._speedometerProperty.edgeRadius-n-2,d=this._speedometerProperty.edgeRadius-m-10,e=this._speedometerProperty.edgeRadius-p-this._speedometerProperty.numbW/2,f=this._speedometerProperty.edgeRadius-o-this._speedometerProperty.numbH/2):(c=this._speedometerProperty.edgeRadius-n-this._speedometerProperty.midNobH/2,d=this._speedometerProperty.edgeRadius-m-this._speedometerProperty.midNobW/2),h=this._createElm({elmType:"div",attrs:{class:"nob "+l+(j?"":" midNob"),style:"left:"+d+"px;top:"+c+"px;transform:rotate("+b+"deg);"}}),i=this._createElm({elmType:"div",attrs:{class:"numb "+l,style:"left:"+f+"px;top:"+e+"px;"},html:j?String(k):""}),this._speedNobNumbHolder.push({nob:h,numb:i}),g.append(h,i)}this._speedPointerArrow=this._createElm({elmType:"div",attrs:{class:"speedNobe"},html:"<div></div>"}),this._speedValueInNumeric=this._createElm({elmType:"div",attrs:{class:"speedPosition"}}),g.append(this._speedPointerArrow),g.append(this._speedValueInNumeric)},speedometer.prototype.setPosition=function(a){a>this._speedometerProperty.maxVal&&(a=this._speedometerProperty.maxVal),(a<0||isNaN(a))&&(a=0);var d=this._speedometerProperty.maxDeg/this._speedometerProperty.maxVal*a+this._speedometerProperty.initDeg;this._speedPointerArrow.style.transform="rotate("+d+"deg)";var e=a*this._speedometerProperty.multiplier;this._speedValueInNumeric.innerHTML=e+"<br />"+this._speedometerProperty.gagueLabel;for(var b=0;b<=this._noOfDev;b++){var c=this._speedNobNumbHolder[b];a>=b*this._speedometerProperty.divFact?(this._addClass(c.nob,"bright"),this._addClass(c.numb,"bright")):(this._removeClass(c.nob,"bright"),this._removeClass(c.numb,"bright"))}}
